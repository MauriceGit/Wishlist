<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Todo List</title>
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-4">
        <h1 class="text-3xl font-bold mb-4">Todo List</h1>
        <div class="grid grid-cols-1 gap-4">
            {{range $index, $todo := .}}

                <form hx-post="/toggle" hx-swap="outerHTML" hx-trigger="change" class="bg-white p-4 shadow-md rounded-lg flex justify-between items-center">
                    <!-- Left: Image next to the checkbox -->
                    <div class="flex items-center">
                        <img src="https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Fget.pxhere.com%2Fphoto%2Fplant-fruit-food-produce-banana-healthy-eat-single-fruits-diet-vitamins-flowering-plant-land-plant-banana-family-cooking-plantain-1386949.jpg&f=1&nofb=1&ipt=756f2c2f08e9e3d1179ece67b7cb35e273fb41c12923ddeaf5b46527e2c62c4b&ipo=images" alt="icon" class="w-8 h-8 mr-4">
                        <label class="flex items-center">
                            <input type="checkbox" name="checked"
                                   value="true"
                                   onchange="this.value = this.checked ? 'true' : 'false'" {{if $todo.IsDone}} checked {{end}}
                                   class="mr-2">
                            {{if $todo.IsDone}} <del> {{end}} {{$todo.Name}} {{if $todo.IsDone}} </del> {{end}}
                        </label>
                    </div>
                    <!-- Right: Hidden input and buttons -->
                    <div class="flex space-x-2">
                        <input type="hidden" name="index" value="{{$index}}">
                        <button type="button" class="px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600">
                            Edit
                        </button>
                        <button type="button" class="px-3 py-1 bg-yellow-500 text-white rounded hover:bg-yellow-600">
                            Reserve
                        </button>
                    </div>
                </form>
            {{end}}
        </div>
    </div>
</body>
</html>
